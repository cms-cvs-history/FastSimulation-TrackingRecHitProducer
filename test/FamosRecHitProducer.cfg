process FamosRecHitProducer  = 
{
    untracked      PSet maxEvents = {untracked int32 input = 10000}
    
    service =  RandomNumberGeneratorService {
	untracked uint32 sourceSeed = 831975
	PSet moduleSeeds =
	{
	    #untracked uint32 VtxSmeared = 123456789
	    untracked uint32 famosPileUp = 13579
	    untracked uint32 famosSimHits = 13579
	    untracked uint32 siTrackerGaussianSmearingRecHits = 24680
	}
    }
    
    source = FlatRandomEGunSource 
    {	 
	untracked uint32 firstRun  = 1
	untracked      PSet  PGunParameters =
	{
	    # you can request more than 1 particle
	    #untracked vint32  PartID = { 211, 11, -13 }
	    untracked vint32 PartID = {13} 
	    untracked double MinEta = -2.5
	    untracked double MaxEta = 2.5
	    untracked double MinPhi = -3.14159265358979323846  # it must be in radians
	    untracked double MaxPhi =  3.14159265358979323846
	    untracked double MinE   = 1.
	    untracked double MaxE   = 10.
	}      
	untracked int32 Verbosity = 0 # for printouts, set it to 1 (or greater)   
    }
    
    # Famos SimHits 
    include "FastSimulation/Configuration/data/CommonInputsFake.cff"
    include "FastSimulation/Configuration/data/FamosSequences.cff"
    replace VolumeBasedMagneticFieldESProducer.useParametrizedTrackerField = true
    replace famosSimHits.SimulateCalorimetry = false
    replace famosSimHits.SimulateTracking = true
    
    module FamosRecHitAnalysis = FamosRecHitAnalysis{ 
        string   RootFileName  = "FamosRecHitAnalysis.root"
        vstring  SimHitList    = {"TrackerHits"}
        InputTag RecHits       = trackerGSRecHitTranslator
    }
    
    # Production and translation
    path Path = { 
	famosWithTrackerHits, 
	trackerGSRecHitTranslator
	#FamosRecHitAnalysis
    }

    module  Output = PoolOutputModule { 
	untracked string fileName = "rechits.root" 
    	untracked vstring outputCommands = 
	{
	    "keep *"
	}
    }
    endpath outpath = { Output }
    
}
